<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Master_Floor_Project.Views.ProductsView">
    
    <UserControl.Styles>
        <Style Selector="DataGridColumnHeader">
            <Setter Property="Background" Value="#F4E8D3"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#333333"/>
        </Style>
        <Style Selector="DataGridRow">
            <Setter Property="Background" Value="#F4E8D3"/>
        </Style>
        <Style Selector="DataGridRow:even">
            <Setter Property="Background" Value="#F9F1E6"/>
        </Style>
        <Style Selector="DataGridRow:selected">
            <Setter Property="Background" Value="#67BA80"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
    </UserControl.Styles>

    <Border Background="#FFFFFF">
        <StackPanel Margin="40" Spacing="20">
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" 
                        Content="НАЗАД"
                        FontFamily="Segoe UI"
                        FontSize="14"
                        FontWeight="SemiBold"
                        Background="#F4E8D3"
                        Foreground="#333333"
                        BorderThickness="0"
                        Padding="20,10"
                        CornerRadius="4"
                        Click="BackButton_Click"/>
                
                <TextBlock Grid.Column="1" 
                           Text="ПРОДУКЦИЯ"
                           FontFamily="Segoe UI"
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#333333"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
            </Grid>
            
            <!-- DataGrid для отображения данных из БД -->
            <DataGrid ItemsSource="{Binding Products}"
                      IsVisible="{Binding !IsLoading}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      GridLinesVisibility="Horizontal"
                      BorderThickness="1"
                      BorderBrush="#DDDDDD"
                      Background="#F4E8D3"
                      Height="500"
                      ScrollViewer.VerticalScrollBarVisibility="Auto">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="АРТИКУЛ" 
                                       Binding="{Binding Article}" 
                                       Width="1*"
                                       Foreground="#333333"/>
                    <DataGridTextColumn Header="НАИМЕНОВАНИЕ" 
                                       Binding="{Binding Name}" 
                                       Width="3*"
                                       Foreground="#333333"/>
                    <DataGridTextColumn Header="ТИП" 
                                       Binding="{Binding Type}" 
                                       Width="2*"
                                       Foreground="#333333"/>
                    <DataGridTextColumn Header="ЦЕНА" 
                                       Binding="{Binding MinPricePartner, StringFormat='{}{0} руб.'}" 
                                       Width="1*"
                                       Foreground="#333333"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Индикатор загрузки -->
            <ProgressBar IsIndeterminate="True" 
                        IsVisible="{Binding IsLoading}" 
                        Width="200" 
                        Height="4"
                        HorizontalAlignment="Center"/>
        </StackPanel>
    </Border>
</UserControl>